(this["webpackJsonpdhs-nerd-frontend"]=this["webpackJsonpdhs-nerd-frontend"]||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(24),c=n.n(i),s=(n(71),n(25)),a=n(7),l=n(6),d=n(89),h=n(1);function o(e,t,n){return!(!e[t]||!e[t][n]||""==e[t][n]||void 0===e[t][n]||null===e[t][n])&&e[t][n]}function j(e,t){return o(e,"annotation",t)}function u(e){var t=!(!e.dhsid||""==e.dhsid||void 0===e.dhsid||null===e.dhsid)&&e.dhsid;return t||(t=!(!e.href||""==e.href||void 0===e.href||null===e.href)&&function(e){return e.match(/\/(\w+)?\/?articles\/(.+?)\/(\d{4}-\d{2}-\d{2})?/)}(e.href)[2]),t}var b=function(e,t){return"https://<LNG>.wikipedia.org/?curid=".replace("<LNG>",e)+t};var x="dhs-dhs-link",O="dhs-original-dhs-link",g="dhs-wikipedia-link";function v(e){var t=e.className,n=void 0===t?"":t,r=e.children,i=void 0===r?[]:r;return Object(h.jsx)("span",{className:"no-text-link "+n,children:i})}function f(e){var t=e.dhsId,n=void 0===t?"":t,r=e.children,i=void 0===r?[]:r,c=e.originalLink,l=void 0!==c&&c,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"de";return(t?"/"+t:"")+"/articles/"+e}(n,Object(a.x)().language);return Object(h.jsx)(s.Link,{className:"dhs-dhs-link "+(l?O:""),to:d,children:i})}function p(e){var t=e.dhsId,n=void 0===t?"":t,r=e.language,i=void 0===r?"de":r,c=e.children,s=void 0===c?[]:c,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"de";return"https://hls-dhs-dss.ch"+(t?"/"+t:"")+"/articles/"+e}(n,i);return Object(h.jsx)("a",{className:"dhs-real-dhs-link",href:a,target:"_blank",children:s})}function m(e){var t=e.url,n=void 0===t?"":t,r=e.children,i=void 0===r?[]:r;return Object(h.jsx)("a",{className:g,href:n,target:"_blank",children:i})}function k(e){var t=e.url,n=void 0===t?"":t,r=e.children,i=void 0===r?[]:r;return Object(h.jsx)("a",{className:"dhs-wikidata-link",href:n,target:"_blank",children:i})}function w(e){var t=e.textlink,n=void 0===t?{}:t,r=e.language,i=void 0===r?"de":r,c=e.children,s=void 0===c?[]:c,a=n,l=u(a);if(l)return Object(h.jsx)(f,{dhsId:l,originalLink:"entity_fishing"!==a.origin,children:s});var d=function(e,t){var n=j(e,"wikipedia_page_id");return!!n&&b(t,n)}(a,i);if(d)return Object(h.jsx)(m,{url:d,children:s});var o=function(e){return j(e,"wikidata_entity_url")}(a);return o?Object(h.jsx)(k,{url:o,children:s}):Object(h.jsx)(v,{children:s})}var N=n(87),_=n(88),L=n(64),I=n(61),A=n(90),S=n(91),C=n(93),y=n(59),D=function(e){Object(I.a)(e);var t=Object(a.x)().language,n=["de","fr","it"].filter((function(e){return e!=t})).map((function(e){var n=(window.location+"").replace(t,e);return Object(h.jsx)(y.LinkContainer,{to:n,children:Object(h.jsx)(A.a.Item,{children:e.toUpperCase()})},e)}));return Object(h.jsx)(A.a,{className:"language-chooser",title:t.toUpperCase(),id:"basic-nav-dropdown",children:n})},T=function(){var e=Object(a.x)(),t=e.language;e.dhsId;return Object(h.jsxs)(S.a,{bg:"light",expand:"lg",children:[Object(h.jsx)(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(S.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(C.a,{className:"mr-auto",children:[Object(h.jsx)(y.LinkContainer,{to:"/"+t+"/articles",children:Object(h.jsx)(C.a.Link,{children:"Articles"})}),Object(h.jsx)(D,{})]})})]})};n(80);function E(e){var t=e.children;return Object(h.jsxs)("div",{className:"main",children:[Object(h.jsx)(T,{}),Object(h.jsx)(N.a,{className:"centered-article-container",children:Object(h.jsx)(_.a,{className:"justify-content-md-center",children:Object(h.jsx)(L.a,{lg:"7",className:"justify-content-md-center centered-article-content",children:t})})})]})}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(h.jsxs)("div",{id:"copyright-footer",children:["The content of all HDS articles presented on this website are the work of their respective author from the original HDS. ",[e]," ",Object(h.jsx)("br",{}),"This work is available under the ",Object(h.jsx)("a",{href:"https://creativecommons.org/licenses/by-sa/4.0/",target:"_blank",children:"Creative Common Attribution-ShareAlike 4.0 International License (CC BY-SA 4.0) "})]})};function G(e){var t=e.text,n=e.textLinks,r=void 0===n?[]:n,i=e.language,c=void 0===i?"de":i;if(0==r.length)return t;r.sort((function(e,t){return e.start-t.start}));var s={start:0,end:0},a=r.map((function(e,n){if(e.start>=s.end){var r=s.end;return s=e,[t.substring(r,e.start),Object(h.jsx)(w,{textlink:e,language:c,children:t.substring(e.start,e.end)},n)]}return console.warn("Overlapping text links\npreviousTextLink:",s,"\ntextLink: ",e),!1})).filter((function(e){return e})).flat();return a.push(t.substring(s.end,t.length)),a}function U(e){var t=e.tag,n=void 0===t?"p":t,r=e.textLinks,i=void 0===r?[]:r,c=e.children,s=void 0===c?"":c,a=e.language,l=void 0===a?"de":a,d=s[0];switch(n){case"h1":return Object(h.jsx)("h1",{children:s});case"h2":return Object(h.jsx)("h2",{children:s});case"h3":return Object(h.jsx)("h3",{children:s});case"h4":return Object(h.jsx)("h4",{children:s});case"p":return Object(h.jsx)("p",{children:Object(h.jsx)(G,{text:d,textLinks:i,language:l})});default:return Object(h.jsx)("div",{children:Object(h.jsx)(G,{text:d,textLinks:i,language:l})})}}function B(e){var t=e.article,n=void 0===t?{}:t,r=e.language,i=void 0===r?"de":r,c=e.baseurl,s=void 0===c?"":c;console.log("DhsArticleContent baseurl:",s),n.text_blocks&&n.text_blocks.length>0&&(n.text_blocks[0][1]=n.search_result_name);var a="20px",d=!!n.wikipedia_page_title&&b(i,n.wikipedia_page_title),o=!!n.wikidata_url&&n.wikidata_url,j=d?Object(h.jsx)(m,{url:d,children:Object(h.jsx)("img",{src:s+"/wikipedia.png",width:a,height:a})},"wk-tl"):"",u=o?Object(h.jsx)(k,{url:o,children:Object(h.jsx)("img",{src:s+"/wikidata.svg",width:a,height:a})},"wdt-l"):"",x=Object(h.jsxs)("span",{children:[Object(h.jsxs)(p,{dhsId:n.id,language:i,children:[" ",Object(h.jsx)("img",{src:s+"/hds.png",className:"real-dhs-article-external-link",width:a,height:a})]},"r-dhs-tl"),j,u]}),O=n.text_blocks?n.text_blocks.map((function(e,t){var r=Object(l.a)(e,2),c=r[0],s=r[1];return Object(h.jsx)(U,{tag:c,textLinks:n.text_links[t],language:i,children:[s," ",0==t?x:""]},t)})):"Loading...",g=Object(h.jsx)(p,{dhsId:n.id,children:"Original article"});return Object(h.jsxs)("div",{className:"dhs-article",children:[O,Object(h.jsx)(H,{originalPageLink:g})]})}function F(e){var t=e.baseurl,n=void 0===t?"":t,i=Object(a.x)(),c=i.language,s=i.dhsId,o=n+"/data/"+c+"/"+s+".json",j=Object(r.useState)({id:!0}),u=Object(l.a)(j,2),b=u[0],O=u[1];return Object(r.useEffect)((function(){fetch(o).then((function(e){return e.json()})).then((function(e){O(e)})).catch((function(e){console.warn("DhsArticle problem loading article: ",e),O({lastArticle:b})}))}),[o]),console.log("DhsArticle.js language",c,"dhsId:",s,", article:",b),b.id?Object(h.jsxs)(E,{children:[Object(h.jsxs)(d.a,{className:"dhs-article-info",variant:"info",children:[Object(h.jsx)("a",{className:x,children:"Blue links"})," point to other HDS articles.",Object(h.jsx)("br",{}),Object(h.jsx)("a",{className:g,children:"Green links"})," point to Wikipedia articles.",Object(h.jsx)("br",{}),Object(h.jsx)("a",{className:"dhs-dhs-link dhs-original-dhs-link",children:"Underdashed blue links"})," are links coming from the original HDS.",Object(h.jsx)("br",{})]}),Object(h.jsx)(B,{article:b,language:c,baseurl:n})]}):Object(h.jsx)(J,{lastArticle:b.lastArticle})}function J(e){var t=e.lastArticle,n=void 0===t?{}:t,r=Object(a.x)(),i=r.language,c=r.dhsId;return Object(h.jsxs)(E,{children:[Object(h.jsx)("h1",{children:"Error 404: Article not found"}),Object(h.jsxs)("p",{children:["Oops, it seems this article is missing. Are you sure the article id is correct?",Object(h.jsx)("br",{})]}),Object(h.jsx)("p",{children:Object(h.jsxs)("a",{href:"#",onClick:function(){return window.history.back()},children:["Go back ",n.title?"("+n.title+")":""]})}),c?Object(h.jsx)("p",{children:Object(h.jsx)(p,{dhsId:c,language:i,children:"Visit the original HDS article"})}):""]})}var P=n(92),R=n(62);function V(e){var t=e.articleTitle,n=e.dhsId;return Object(h.jsx)("div",{className:"dhs-articles-list-item",children:Object(h.jsxs)(f,{dhsId:n,children:[Object(h.jsx)("span",{className:"dhs-articles-list-item-id",children:n+" "}),Object(h.jsx)("span",{className:"dhs-articles-list-item-title",children:t})]})})}function W(e){var t=e.baseurl,n=void 0===t?"":t,i=Object(a.x)().language;console.log("ArticlesList.js language",i);var c=n+"/data/indices/"+i+".json",s=Object(r.useState)([]),d=Object(l.a)(s,2),o=d[0],j=d[1],u=Object(r.useState)([]),b=Object(l.a)(u,2),x=b[0],O=b[1];Object(r.useEffect)((function(){fetch(c).then((function(e){return e.json()})).then((function(e){O(e),j(e)}))}),[c]);return Object(h.jsxs)(E,{children:[Object(h.jsxs)(P.a,{id:"dhs-article-search",onSubmit:function(e){var t=document.getElementById("dhs-article-text-search").value;j(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return-1!=e[1].toLowerCase().indexOf(n)}))}(x,t)),e.preventDefault(),e.stopPropagation()},children:[Object(h.jsx)(P.a.Group,{className:"mb-3",controlId:"dhs-article-text-search",children:Object(h.jsx)(P.a.Control,{type:"text",placeholder:"Search in articles' titles..."})}),Object(h.jsx)(R.a,{variant:"primary",type:"submit",children:"Search"})]}),o.filter((function(e,t){return t<100})).map((function(e,t){return Object(h.jsx)(V,{dhsId:e[0],articleTitle:e[1]},t)}))]})}var Y=function(e){var t=e.tadu,n=void 0===t?"DEFAULT":t;return Object(h.jsxs)("div",{children:["THIS IS A ",n," ROUTE"]})};function q(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(s.HashRouter,{children:Object(h.jsxs)(a.f,{basename:"/dhs-nerd",children:[Object(h.jsx)(a.d,{path:"/:language/articles/:dhsId",element:Object(h.jsx)(F,{baseurl:"/dhs-nerd"})}),Object(h.jsx)(a.d,{path:"/:language",element:Object(h.jsx)(W,{baseurl:"/dhs-nerd"})}),Object(h.jsx)(a.d,{path:"/:language/articles",element:Object(h.jsx)(W,{baseurl:"/dhs-nerd"})}),Object(h.jsx)(a.d,{exact:!0,path:"/",element:Object(h.jsx)(a.b,{to:"/fr"})}),Object(h.jsx)(a.d,{path:"*",element:Object(h.jsx)(Y,{})})]})})})}c.a.render(Object(h.jsx)(q,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.60d9b8a6.chunk.js.map