(this["webpackJsonpdhs-nerd-frontend"]=this["webpackJsonpdhs-nerd-frontend"]||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(25),a=n.n(r),s=(n(71),n(18)),c=n(7),l=n(6),d=n(89),o=n(1);function h(e,t,n){return!(!e[t]||!e[t][n]||""==e[t][n]||void 0===e[t][n]||null===e[t][n])&&e[t][n]}function j(e,t){return h(e,"annotation",t)}function u(e){var t=!(!e.dhsid||""==e.dhsid||void 0===e.dhsid||null===e.dhsid)&&e.dhsid;return t||(t=!(!e.href||""==e.href||void 0===e.href||null===e.href)&&function(e){return e.match(/\/(\w+)?\/?articles\/(.+?)\/(\d{4}-\d{2}-\d{2})?/)}(e.href)[2]),t}var b=function(e,t){return"https://<LNG>.wikipedia.org/?curid=".replace("<LNG>",e)+t};var x="dhs-dhs-link",f="dhs-original-dhs-link",O="dhs-wikipedia-link";function g(e){var t=e.className,n=void 0===t?"":t,i=e.children,r=void 0===i?[]:i;return Object(o.jsx)("span",{className:"no-text-link "+n,children:r})}function p(e){var t=e.dhsId,n=void 0===t?"":t,i=e.children,r=void 0===i?[]:i,a=e.originalLink,l=void 0!==a&&a,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"de";return(t?"/"+t:"")+"/articles/"+e}(n,Object(c.x)().language);return Object(o.jsx)(s.Link,{className:"dhs-dhs-link "+(l?f:""),to:d,children:r})}function v(e){var t=e.dhsId,n=void 0===t?"":t,i=e.language,r=void 0===i?"de":i,a=e.children,s=void 0===a?[]:a,c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"de";return"https://hls-dhs-dss.ch"+(t?"/"+t:"")+"/articles/"+e}(n,r);return Object(o.jsx)("a",{className:"dhs-real-dhs-link",href:c,target:"_blank",children:s})}function m(e){var t=e.url,n=void 0===t?"":t,i=e.children,r=void 0===i?[]:i;return Object(o.jsx)("a",{className:O,href:n,target:"_blank",children:r})}function k(e){var t=e.url,n=void 0===t?"":t,i=e.children,r=void 0===i?[]:i;return Object(o.jsx)("a",{className:"dhs-wikidata-link",href:n,target:"_blank",children:r})}function w(e){var t=e.textlink,n=void 0===t?{}:t,i=e.language,r=void 0===i?"de":i,a=e.children,s=void 0===a?[]:a,c=n,l=u(c);if(l)return Object(o.jsx)(p,{dhsId:l,originalLink:"entity_fishing"!==c.origin,children:s});var d=function(e,t){var n=j(e,"wikipedia_page_id");return!!n&&b(t,n)}(c,r);if(d)return Object(o.jsx)(m,{url:d,children:s});var h=function(e){return j(e,"wikidata_entity_url")}(c);return h?Object(o.jsx)(k,{url:h,children:s}):Object(o.jsx)(g,{children:s})}var S=n(87),y=n(88),N=n(62),L=n(61),D=n(90),H=n(91),I=n(93),_=n(58),A=n(92),C=n(63);function T(){var e=Object(c.t)(),t=Object(s.useSearchParams)(),n=Object(l.a)(t,2),r=n[0],a=(n[1],Object(i.useState)(r.get("q"))),d=Object(l.a)(a,2),h=d[0],j=d[1],u=Object(c.x)().language;return Object(i.useEffect)((function(){h&&e({pathname:"/"+u,search:"?"+Object(s.createSearchParams)({q:h})})}),[h]),Object(o.jsxs)(A.a,{id:"dhs-article-search",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),j(document.getElementById("dhs-article-text-search").value)},children:[Object(o.jsx)(A.a.Control,{id:"dhs-article-text-search",type:"text",defaultValue:h,name:"q"}),Object(o.jsx)(C.a,{variant:"primary",type:"submit",children:"Search"})]})}var E=function(e){Object(L.a)(e);var t=Object(c.x)().language,n=["de","fr","it"].filter((function(e){return e!=t})).map((function(e){var n=(window.location+"").split("#")[1].replace(t,e);return Object(o.jsx)(_.LinkContainer,{to:n,children:Object(o.jsx)(D.a.Item,{children:e.toUpperCase()})},e)}));return Object(o.jsx)(D.a,{className:"language-chooser",title:t.toUpperCase(),id:"basic-nav-dropdown",children:n})},P=function(){var e=Object(c.x)(),t=e.language;e.dhsId;return Object(o.jsxs)(H.a,{id:"ldhs-navbar",expand:"md",className:"justify-content-center",children:[Object(o.jsx)(H.a.Toggle,{"aria-controls":"ldhs-collapsible-navbar"}),Object(o.jsx)(H.a.Collapse,{id:"ldhs-collapsible-navbar",children:Object(o.jsxs)(I.a,{className:"justify-content-center",children:[Object(o.jsx)(_.LinkContainer,{to:"/"+t+"/articles",children:Object(o.jsx)(I.a.Link,{children:"Home"})}),Object(o.jsx)(_.LinkContainer,{to:"/"+t+"/about",children:Object(o.jsx)(I.a.Link,{children:"About"})}),Object(o.jsx)(E,{})]})}),Object(o.jsx)("div",{id:"search-wrapper",children:Object(o.jsx)(T,{})})]})};n(80);function q(e){var t=e.children;return Object(o.jsxs)("div",{className:"main",children:[Object(o.jsx)(P,{}),Object(o.jsx)(S.a,{className:"centered-article-container",children:Object(o.jsx)(y.a,{className:"justify-content-md-center",children:Object(o.jsx)(N.a,{lg:"7",className:"justify-content-md-center centered-article-content",children:t})})})]})}var B=function(e){var t=e.children,n=void 0===t?[]:t;return console.log("CopyrightFooter children: ",n),Object(o.jsxs)("div",{id:"copyright-footer",children:["The content of all HDS articles presented on this website are the work of their respective author from the original HDS. ",n,"This work is available under the Creative Common Attribution-ShareAlike 4.0 International License (",Object(o.jsx)("a",{href:"https://creativecommons.org/licenses/by-sa/4.0/",target:"_blank",children:"CC BY-SA 4.0"}),")"]})};function F(e){var t=e.text,n=e.textLinks,i=void 0===n?[]:n,r=e.language,a=void 0===r?"de":r;if(0==i.length)return t;i.sort((function(e,t){return e.start-t.start}));var s={start:0,end:0},c=i.map((function(e,n){if(e.start>=s.end){var i=s.end;return s=e,[t.substring(i,e.start),Object(o.jsx)(w,{textlink:e,language:a,children:t.substring(e.start,e.end)},n)]}return console.warn("Overlapping text links\npreviousTextLink:",s,"\ntextLink: ",e),!1})).filter((function(e){return e})).flat();return c.push(t.substring(s.end,t.length)),c}function U(e){var t=e.tag,n=void 0===t?"p":t,i=e.textLinks,r=void 0===i?[]:i,a=e.children,s=void 0===a?"":a,c=e.language,l=void 0===c?"de":c,d=s[0];switch(console.log("TextBlock children: ",s),n){case"h1":return Object(o.jsx)("h1",{children:s});case"h2":return Object(o.jsx)("h2",{children:s});case"h3":return Object(o.jsx)("h3",{children:s});case"h4":return Object(o.jsx)("h4",{children:s});case"p":return Object(o.jsx)("p",{children:Object(o.jsx)(F,{text:d,textLinks:r,language:l})});default:return Object(o.jsx)("div",{children:Object(o.jsx)(F,{text:d,textLinks:r,language:l})})}}function G(e){var t=e.article,n=void 0===t?{}:t,i=e.language,r=void 0===i?"de":i,a=e.baseurl,s=void 0===a?"":a;console.log("DhsArticleContent baseurl:",s),n.text_blocks&&n.text_blocks.length>0&&(n.text_blocks[0][1]=n.search_result_name);var c="20px",d=!!n.wikipedia_page_title&&b(r,n.wikipedia_page_title),h=!!n.wikidata_url&&n.wikidata_url,j=d?Object(o.jsx)(m,{url:d,children:Object(o.jsx)("img",{src:s+"/wikipedia.png",width:c,height:c})},"wk-tl"):"",u=h?Object(o.jsx)(k,{url:h,children:Object(o.jsx)("img",{src:s+"/wikidata.svg",width:c,height:c})},"wdt-l"):"",x=Object(o.jsxs)("span",{children:[Object(o.jsxs)(v,{dhsId:n.id,language:r,children:[" ",Object(o.jsx)("img",{src:s+"/hds.png",className:"real-dhs-article-external-link",width:c,height:c})]},"r-dhs-tl"),j,u]}),f=n.text_blocks?n.text_blocks.map((function(e,t){var i=Object(l.a)(e,2),a=i[0],s=i[1];return Object(o.jsx)(U,{tag:a,textLinks:n.text_links[t],language:r,children:[s," ",0==t?x:""]},t)})):"Loading...";return Object(o.jsxs)("div",{className:"dhs-article",children:[f,Object(o.jsx)("hr",{}),Object(o.jsx)(z,{tags:n.tags}),Object(o.jsx)("hr",{}),Object(o.jsxs)(B,{children:["Original article available ",Object(o.jsx)(v,{dhsId:n.id,children:"here"}),".",Object(o.jsx)("span",{})]})]})}function z(e){var t=e.tags,n=void 0===t?[]:t;return Object(o.jsxs)("div",{className:"article-thematic-indexation",children:[Object(o.jsx)("h4",{children:"Thematic indexation"}),n.map((function(e){return Object(o.jsx)("div",{className:"article-thematic-indexation-element",children:Object(o.jsx)("a",{href:"https://hls-dhs-dss.ch"+e.url,target:"_blank",children:e.tag})})}))]})}function R(e){var t=e.baseurl,n=void 0===t?"":t,r=Object(c.x)(),a=r.language,s=r.dhsId,h=n+"/data/"+a+"/"+s+".json",j=Object(i.useState)({id:!0}),u=Object(l.a)(j,2),b=u[0],f=u[1];return Object(i.useEffect)((function(){fetch(h).then((function(e){return e.json()})).then((function(e){f(e)})).catch((function(e){console.warn("DhsArticle problem loading article: ",e),f({lastArticle:b})}))}),[h]),console.log("DhsArticle.js language",a,"dhsId:",s,", article:",b),b.id?Object(o.jsxs)(q,{children:[Object(o.jsxs)(d.a,{className:"dhs-article-info",variant:"info",children:[Object(o.jsx)("a",{className:x,children:"Blue links"})," point to other HDS articles.",Object(o.jsx)("br",{}),Object(o.jsx)("a",{className:O,children:"Green links"})," point to Wikipedia articles.",Object(o.jsx)("br",{}),Object(o.jsx)("a",{className:"dhs-dhs-link dhs-original-dhs-link",children:"Underdashed blue links"})," are links coming from the original HDS.",Object(o.jsx)("br",{})]}),Object(o.jsx)(G,{article:b,language:a,baseurl:n})]}):Object(o.jsx)(W,{lastArticle:b.lastArticle})}function W(e){var t=e.lastArticle,n=void 0===t?{}:t,i=Object(c.x)(),r=i.language,a=i.dhsId;return Object(o.jsxs)(q,{children:[Object(o.jsx)("h1",{children:"Error 404: Article not found"}),Object(o.jsxs)("p",{children:["Oops, it seems this article is missing. Are you sure the article id is correct?",Object(o.jsx)("br",{})]}),Object(o.jsx)("p",{children:Object(o.jsxs)("a",{href:"#",onClick:function(){return window.history.back()},children:["Go back ",n.title?"("+n.title+")":""]})}),a?Object(o.jsx)("p",{children:Object(o.jsx)(v,{dhsId:a,language:r,children:"Visit the original HDS article"})}):""]})}function J(e){var t=e.articleTitle,n=e.dhsId;return Object(o.jsx)("div",{className:"dhs-articles-list-item",children:Object(o.jsxs)(p,{dhsId:n,children:[Object(o.jsx)("span",{className:"dhs-articles-list-item-id",children:n+" "}),Object(o.jsx)("span",{className:"dhs-articles-list-item-title",children:t})]})})}function V(e){var t=e.baseurl,n=void 0===t?"":t,r=Object(c.x)().language;console.log("ArticlesList.js language",r,"----------------------------------");var a=n+"/data/indices/"+r+".json",h=Object(i.useState)([]),j=Object(l.a)(h,2),u=j[0],b=j[1],x=Object(i.useState)([]),f=Object(l.a)(x,2),O=f[0],g=f[1],p=Object(s.useSearchParams)(),v=Object(l.a)(p,1)[0].get("q");return console.log("AL searchParams query",v),Object(i.useEffect)((function(){v?(console.log("ArticlesList filtering based on query:",v),b(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return-1!=e[1].toLowerCase().indexOf(n)}))}(O,v))):b(O)}),[v,O]),Object(i.useEffect)((function(){fetch(a).then((function(e){return e.json()})).then((function(e){g(e),b(e)}))}),[a]),Object(o.jsxs)(q,{children:[Object(o.jsxs)(d.a,{className:"dhs-article-info",variant:"info",children:["Using the search bar above you can search for articles.",Object(o.jsx)("br",{}),"Search is only performed on articles' titles (exact match).",Object(o.jsx)("br",{})]}),0===O.length?"Loading articles index...":u.length>0?u.filter((function(e,t){return t<100})).map((function(e,t){return Object(o.jsx)(J,{dhsId:e[0],articleTitle:e[1]},t)})):'No articles with title matching "'+v+'".']})}var Y=function(){return Object(o.jsx)(q,{children:Object(o.jsxs)("div",{id:"about-content",children:[Object(o.jsx)("h1",{children:"About this project"}),Object(o.jsxs)("p",{children:["This website is a demonstration interface for a linked Historical Dictionary of Switzerland (HDS). It was made in the context of my PhD in Digital Humanities at EPFL where I will focus on extracting structured data from the HDS and making it available in interactive interfaces. If you're interested, drop me an email, contact information ",Object(o.jsx)("a",{href:"https://people.epfl.ch/didier.dupertuis",children:"here"}),"."]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("a",{href:"https://github.com/dddpt-epfl-phd/dhs-nerd/",children:"The code for the project and website is available here."}),". ",Object(o.jsx)("a",{href:"https://github.com/dddpt-epfl-phd/dhs-nerd/raw/master/reports/HDS%20Named%20Entity%20Linking%20Report.pdf",children:"The full report for the project is available here"}),". Here is the abstract:"]}),Object(o.jsxs)("p",{id:"report-abstract",children:["In this work, our aim is to create a cross-linked version of the ",Object(o.jsx)("a",{href:"https://hls-dhs-dss.ch",rel:"nofollow",children:"the Historical Dictionary of Switzerland (HDS)"}),", a trilingual online encyclopedia on the history of Switzerland in French, German and Italian. We carried out and evaluated named entity recognition and linking on the 36\u2019000 articles of the HDS. For named entity recognition and linking we used the entity-fishing tool. Based on the results, we created a demonstration web interface for a cross-linked HDS in the three languages. The cross-linked HDS has an average of 6 HDS links per 1000 characters against 1 HDS link in the current version of the HDS. However, around 60% of entities present in the HDS cannot be linked with our approach as those entities are absent from entity-fishing\u2019s training set, Wikipedia. The cross-linked HDS demonstration interface is available here: ",Object(o.jsx)("a",{href:"https://dddpt-epfl-phd.github.io/dhs-nerd/",children:"https://dddpt-epfl-phd.github.io/dhs-nerd/"}),". It allows for a more enticing exploration experience of the HDS."]}),Object(o.jsx)("h4",{children:"Copyright notice"}),Object(o.jsx)("p",{children:Object(o.jsx)(B,{})})]})})},K=function(e){var t=e.tadu,n=void 0===t?"DEFAULT":t;return Object(o.jsxs)("div",{children:["THIS IS A ",n," ROUTE"]})};function M(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(s.HashRouter,{children:Object(o.jsxs)(c.f,{basename:"/dhs-nerd",children:[Object(o.jsx)(c.d,{path:"/:language/articles/:dhsId",element:Object(o.jsx)(R,{baseurl:"/dhs-nerd"})}),Object(o.jsx)(c.d,{path:"/:language",element:Object(o.jsx)(V,{baseurl:"/dhs-nerd"})}),Object(o.jsx)(c.d,{path:"/:language/articles",element:Object(o.jsx)(V,{baseurl:"/dhs-nerd"})}),Object(o.jsx)(c.d,{path:"/:language/about",element:Object(o.jsx)(Y,{})}),Object(o.jsx)(c.d,{exact:!0,path:"/",element:Object(o.jsx)(c.b,{to:"/fr"})}),Object(o.jsx)(c.d,{path:"*",element:Object(o.jsx)(K,{})})]})})})}a.a.render(Object(o.jsx)(M,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.bfd08905.chunk.js.map